<section>
  <form novalidate
        class="rezForm"
        (ngSubmit)="saveReservation()"
        [formGroup]="rezzoForm">
    <div *ngIf="!isSubmitted">
      <!-- Name Input -->
      <input class="form-control form-input full"
             type="text"
             id="nameId"
             placeholder="Name"
             formControlName="name"
             [ngClass]="{'alert-danger': (rezzoForm.get('name').touched ||
             rezzoForm.get('name').dirty) &&
             !rezzoForm.get('name').valid  }" />
      <div *ngIf="!rezzoForm.get('name').untouched">
        <span class="alert-danger">
          <span *ngIf="rezzoForm.get('name').errors?.required">
            Please enter your name.
          </span>
          <span *ngIf="rezzoForm.get('name').errors?.minlength">
            Name must be longer than 4 characters.
          </span>
        </span>
      </div>

      <!-- Email Input -->
      <input type="text"
             placeholder="Email"
             id="emailId"
             formControlName="email"
             class="form-control form-input full"
             [ngClass]="{'alert-danger': (rezzoForm.get('email').touched ||
           rezzoForm.get('email').dirty) &&
           !rezzoForm.get('email').valid  }">
      <div *ngIf="!rezzoForm.get('email').untouched">
        <span class="alert-danger">
          <span *ngIf="rezzoForm.get('email').errors?.required">
            Please enter your email address.
          </span>
          <span *ngIf="rezzoForm.get('email').errors?.email">
            Please enter a valid email address.
          </span>
        </span>
      </div>

      <div class="group">
        <!-- Date Input -->
        <h3>Pick a Date</h3>
        <div formGroupName="dateGroup"
             class="dates">
          <!-- Month Select -->
          <select formControlName="month"
                  type="text"
                  class="form-control form-select small date">
            <option disabled>MM</option>
            <option *ngFor="let month of months">
              {{ month }}
            </option>
          </select>
          <!-- Day Select -->
          <select formControlName="day"
                  type="text"
                  class="form-control form-select small date">
            <option disabled>DD</option>
            <option *ngFor="let day of days">
              {{day}}
            </option>
          </select>
          <!-- Year Select -->
          <select formControlName="year"
                  type="text"
                  class="form-control form-select small year">
            <option disabled>YYYY</option>
            <option *ngFor="let year of years">
              {{year}}
            </option>
          </select>
        </div>

        <!-- TO DO => add date select error message -->
        <!-- <div *ngIf="rezzoForm.get('dateGroup.month').touched
      || rezzoForm.get('dateGroup.day').touched ||
      rezzoForm.get('dateGroup.year').touched">
        <span class="alert-danger">
          <span *ngIf="rezzoForm.get('dateGroup.month').errors?.required">
            Please select a Month
          </span>
          <span *ngIf="rezzoForm.get('dateGroup.day').errors?.required">
            Please select a Day
          </span>
          <span *ngIf="rezzoForm.get('dateGroup.year').errors?.required">
            Please select a Year
          </span>
        </span>
      </div> -->
      </div>

      <div class="group">
        <!-- Time Input -->
        <h3>Pick a Time</h3>
        <div formGroupName="timeGroup"
             class="times">
          <!-- Hour Select -->
          <select formControlName="hour"
                  class="form-control form-select small hour">
            <option disabled>07</option>
            <option *ngFor="let hour of hours">{{hour}}</option>
          </select>
          <!-- Minute Select -->
          <select formControlName="minute"
                  class="form-control form-select small hour">
            <option *ngFor="let minute of minutes">{{minute}}</option>
          </select>

          <!-- AM/PM Select -->
          <div class="ampm">
            <select formControlName="meridian"
                    class="form-control form-select small meridian">
              <option>PM</option>
              <option>AM</option>
            </select>
            <img src="/assets/images/icons/icon-arrow.svg">
          </div>
        </div>
        <!-- TO DO => add timeGroup error message -->
      </div>

      <!-- Guest Counter -->
      
      <!-- TO DO => change this to form control? -->
      <div class="full counter">
        <img src="/assets/images/icons/icon-minus.svg"
             (click)="decrementGuestCount()" />
        <!-- TO DO => add error message "Please select guest count of 1 or more people"-->

        {{guests[selectedGuestCount-1]}}
        <img src="/assets/images/icons/icon-plus.svg"
             (click)="incrementGuestCount()" />
        <!-- TO DO => add error message ""-->
        <!--  <span class="invalid-feedback">
        <span *ngIf="rezzoForm.get('guests').errors?.range">
          Please select guest count of 12 or less people.
        </span>
      </span> -->

      </div>
      <!-- Form submit button -->
      <button class="btn btn-dark"
              type="submit"
              [disabled]="!rezzoForm.valid">
        Make
        Reservation</button>
    </div>
    <div class="confirm"
         *ngIf="isSubmitted">
      <p>Thanks for making your reservation.</p>
      <p>We look forward to dining with you!</p>
    </div>

  </form>


</section>
